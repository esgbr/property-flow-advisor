
/* 
 * Accessibility-focused CSS utilities
 * These classes help improve application accessibility
 */

/* Screen reader only - hide visually but available to screen readers */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Focus indicator with high contrast */
.focus-ring {
  @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:ring-primary;
}

/* For elements that should have better focus visibility */
.enhanced-focus {
  @apply focus:outline-2 focus:outline-primary focus:outline-offset-4 focus:outline-dotted;
}

/* For skiplinks */
.skip-link {
  @apply sr-only focus:not-sr-only focus:fixed focus:top-4 focus:left-4 focus:z-50 focus:p-4 focus:bg-background focus:text-foreground focus:shadow-md focus:rounded;
}

/* For better link underlines (more accessible) */
.accessible-link {
  @apply underline underline-offset-4 decoration-1 hover:decoration-2;
}

/* High contrast mode overrides */
@media (forced-colors: active) {
  .high-contrast-outline {
    outline: 2px solid transparent;
    outline-offset: 2px;
  }
}

/* For focus groups - improves keyboard navigation of complex components */
.focus-group:focus-within .focus-item {
  @apply transition-colors;
}

.focus-group:focus-within .focus-item:focus {
  @apply bg-accent text-accent-foreground;
}

/* For animated elements - respects reduced motion preference */
@media (prefers-reduced-motion: no-preference) {
  .animate-fade {
    @apply transition-opacity duration-300;
  }
  
  .animate-slide {
    @apply transition-transform duration-300;
  }
}

@media (prefers-reduced-motion: reduce) {
  .animate-fade, 
  .animate-slide {
    @apply transition-none !important;
  }
}

/* For larger text option */
.large-text {
  font-size: 1.15em;
  line-height: 1.6;
}

.large-text h1 {
  font-size: 2.2em;
}

.large-text h2 {
  font-size: 1.8em;
}

.large-text button,
.large-text input,
.large-text select {
  font-size: 1.05em;
}

/* High contrast theme overrides */
.high-contrast {
  --contrast-factor: 1.2;
  
  --background: hsl(0 0% 100%);
  --foreground: hsl(0 0% 0%);
  --primary: hsl(240 100% 50%);
  --primary-foreground: hsl(0 0% 100%);
  --secondary: hsl(0 0% 15%);
  --secondary-foreground: hsl(0 0% 100%);
  --accent: hsl(45 100% 50%);
  --accent-foreground: hsl(0 0% 0%);
  --destructive: hsl(0 100% 45%);
  --destructive-foreground: hsl(0 0% 100%);
  --muted: hsl(0 0% 90%);
  --muted-foreground: hsl(0 0% 20%);
  --border: hsl(0 0% 25%);
}

.high-contrast.dark {
  --background: hsl(0 0% 0%);
  --foreground: hsl(0 0% 100%);
  --primary: hsl(240 100% 65%);
  --primary-foreground: hsl(0 0% 0%);
  --secondary: hsl(0 0% 90%);
  --secondary-foreground: hsl(0 0% 0%);
  --accent: hsl(45 100% 65%);
  --accent-foreground: hsl(0 0% 0%);
  --destructive: hsl(0 100% 60%);
  --destructive-foreground: hsl(0 0% 0%);
  --muted: hsl(0 0% 15%);
  --muted-foreground: hsl(0 0% 80%);
  --border: hsl(0 0% 75%);
}

/* Dyslexia friendly font */
.dyslexia-friendly {
  --font-sans: 'Open Sans', 'Segoe UI', sans-serif;
  letter-spacing: 0.05em;
  word-spacing: 0.1em;
  line-height: 1.6;
}

.dyslexia-friendly p {
  max-width: 80ch;
}

/* For focus visible utility */
.js-focus-visible :focus:not(.focus-visible) {
  outline: none;
}

.js-focus-visible .focus-visible {
  @apply outline-2 outline-primary outline-offset-2;
}
